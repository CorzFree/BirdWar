{"version":3,"sources":["../../../../../assets/common/script/assets/common/script/uiLogin.js"],"names":["uiPanel","require","cc","Class","extends","properties","onLoad","_super","start","window","wx","nodeDict","active","getSystemInfo","success","data","Game","GameManager","getUserInfoBtn","createUserInfoButton","type","text","style","left","screenWidth","top","screenHeight","width","height","lineHeight","backgroundColor","color","textAlign","fontSize","borderRadius","onTap","res","isClickCd","setTimeout","userInfo","nickName","avatarUrl","matchVsInit","hide","on","onEnable","show","onDisable"],"mappings":";;;;;;AAAA,IAAIA,UAAUC,QAAQ,SAAR,CAAd;AACAC,GAAGC,KAAH,CAAS;AACLC,aAASJ,OADJ;AAELK,gBAAY,EAFP;;AAILC,UAJK,oBAII;AACL,aAAKC,MAAL;AACH,KANI;AAQLC,SARK,mBAQG;AACJ,YAAIC,OAAOC,EAAX,EAAe;AACX,iBAAKC,QAAL,CAAc,OAAd,EAAuBC,MAAvB,GAAgC,KAAhC;AACAF,eAAGG,aAAH,CAAiB;AACbC,yBAAS,iBAASC,IAAT,EAAe;AACpBC,yBAAKC,WAAL,CAAiBC,cAAjB,GAAkCR,GAAGS,oBAAH,CAAwB;AACtDC,8BAAM,MADgD;AAEtDC,8BAAM,QAFgD;AAGtDC,+BAAO;AACHC,kCAAMR,KAAKS,WAAL,GAAmB,GADtB;AAEHC,iCAAKV,KAAKW,YAAL,GAAoB,IAFtB;AAGHC,mCAAOZ,KAAKS,WAAL,GAAmB,IAHvB;AAIHI,oCAAQb,KAAKW,YAAL,GAAoB,IAJzB;AAKHG,wCAAYd,KAAKW,YAAL,GAAoB,IAL7B;AAMHI,6CAAiB,SANd;AAOHC,mCAAO,SAPJ;AAQHC,uCAAW,QARR;AASHC,sCAAUlB,KAAKW,YAAL,GAAoB,KAT3B;AAUHQ,0CAAc;AAVX;AAH+C,qBAAxB,CAAlC;AAgBAlB,yBAAKC,WAAL,CAAiBC,cAAjB,CAAgCiB,KAAhC,CAAsC,UAASC,GAAT,EAAc;AAChD,4BAAIpB,KAAKC,WAAL,CAAiBoB,SAArB,EAAgC;AAC5B;AACH;AACDrB,6BAAKC,WAAL,CAAiBoB,SAAjB,GAA6B,IAA7B;AACAC,mCAAW,YAAW;AAClBtB,iCAAKC,WAAL,CAAiBoB,SAAjB,GAA6B,KAA7B;AACH,yBAFD,EAEG,IAFH;AAGA,4BAAGD,IAAIG,QAAP,EAAiB;AACbvB,iCAAKC,WAAL,CAAiBuB,QAAjB,GAA4BJ,IAAIG,QAAJ,CAAaC,QAAzC;AACAxB,iCAAKC,WAAL,CAAiBwB,SAAjB,GAA6BL,IAAIG,QAAJ,CAAaE,SAA1C;AACAzB,iCAAKC,WAAL,CAAiByB,WAAjB;AACA1B,iCAAKC,WAAL,CAAiBC,cAAjB,CAAgCyB,IAAhC;AACH;AACJ,qBAdD;AAeH;AAjCY,aAAjB;AAmCH,SArCD,MAqCO;AACH,iBAAKhC,QAAL,CAAc,OAAd,EAAuBiC,EAAvB,CAA0B,OAA1B,EAAmC5B,KAAKC,WAAL,CAAiByB,WAApD,EAAiE1B,KAAKC,WAAtE;AACH;AACJ,KAjDI;AAmDL4B,YAnDK,sBAmDM;AACP,YAAI7B,KAAKC,WAAL,CAAiBC,cAArB,EAAqC;AACjCF,iBAAKC,WAAL,CAAiBC,cAAjB,CAAgC4B,IAAhC;AACH;AACJ,KAvDI;AAyDLC,aAzDK,uBAyDO;AACR,YAAI/B,KAAKC,WAAL,CAAiBC,cAArB,EAAqC;AACjCF,iBAAKC,WAAL,CAAiBC,cAAjB,CAAgCyB,IAAhC;AACH;AACJ;AA7DI,CAAT","file":"uiLogin.js","sourceRoot":"../../../../../assets/common/script","sourcesContent":["var uiPanel = require(\"uiPanel\");\ncc.Class({\n    extends: uiPanel,\n    properties: {},\n\n    onLoad() {\n        this._super();\n    },\n\n    start() {\n        if (window.wx) {\n            this.nodeDict[\"start\"].active = false;\n            wx.getSystemInfo({\n                success: function(data) {\n                    Game.GameManager.getUserInfoBtn = wx.createUserInfoButton({\n                        type: 'text',\n                        text: '开始多人游戏',\n                        style: {\n                            left: data.screenWidth * 0.2,\n                            top: data.screenHeight * 0.73,\n                            width: data.screenWidth * 0.65,\n                            height: data.screenHeight * 0.07,\n                            lineHeight: data.screenHeight * 0.07,\n                            backgroundColor: '#fe714a',\n                            color: '#ffffff',\n                            textAlign: 'center',\n                            fontSize: data.screenHeight * 0.025,\n                            borderRadius: 8\n                        }\n                    });\n                    Game.GameManager.getUserInfoBtn.onTap(function(res) {\n                        if (Game.GameManager.isClickCd) {\n                            return;\n                        }\n                        Game.GameManager.isClickCd = true;\n                        setTimeout(function() {\n                            Game.GameManager.isClickCd = false;\n                        }, 1000);\n                        if(res.userInfo) {\n                            Game.GameManager.nickName = res.userInfo.nickName;\n                            Game.GameManager.avatarUrl = res.userInfo.avatarUrl;\n                            Game.GameManager.matchVsInit();\n                            Game.GameManager.getUserInfoBtn.hide();\n                        }\n                    });\n                }\n            });\n        } else {\n            this.nodeDict[\"start\"].on(\"click\", Game.GameManager.matchVsInit, Game.GameManager);\n        }\n    },\n\n    onEnable() {\n        if (Game.GameManager.getUserInfoBtn) {\n            Game.GameManager.getUserInfoBtn.show();\n        }\n    },\n\n    onDisable() {\n        if (Game.GameManager.getUserInfoBtn) {\n            Game.GameManager.getUserInfoBtn.hide();\n        }\n    }\n});\n"]}